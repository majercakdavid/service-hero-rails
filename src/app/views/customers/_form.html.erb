<%= form_for(customer, :url => url, :html => {:class => 'uk-form uk-flex-item-1 uk-flex-column uk-flex-middle signup-form'}) do |u| %>
    <% if customer.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(customer.errors.count, "error") %> prohibited this customer from being saved:</h2>

          <ul>
            <% customer.errors.full_messages.each do |message| %>
                <li><%= message %></li>
            <% end %>
          </ul>
        </div>
    <% end %>
    <section class="uk-flex uk-flex-column basic-info">
      <%= u.label :email %>
      <%= u.email_field :email, autofocus: true, class: 'form-control'%>
      <br/>
      <%= u.label :password %> <i>(leave blank if you don't want to change it)</i>
      <%= u.password_field :password, autocomplete: "off", class: 'form-control' %>
      <% if @minimum_password_length %>
          <br/>
          <em><%= @minimum_password_length %> characters minimum</em>
      <% end %>
      <br/>
      <%= u.label :password_confirmation %>
      <%= u.password_field :password_confirmation, autocomplete: "off", class: 'form-control' %>
      <br/>
      <%= u.fields_for :role do |r| %>
          <%= r.label :name %>
          <%= r.text_field :name, class: 'form-control' %>
          </section>

          <section class="uk-margin addresses">
            <section class="uk-float-left uk-flex uk-flex-column address">
              <h2><%= :shipping_address.to_s.humanize %></h2>
              <%= r.fields_for :billing_address do |a| %>
                  <%= a.label :name %>
                  <%= a.text_field :name, class: 'form-control'%>

                  <%= a.label :street %>
                  <%= a.text_field :street, class: 'form-control'%>

                  <%= a.label :city %>
                  <%= a.text_field :city, class: 'form-control' %>

                  <%= a.label :ZIP %>
                  <%= a.text_field :ZIP, class: 'form-control'%>

                  <%= a.label :state %>
                  <%= a.text_field :state, class: 'form-control' %>

                  <%= a.label :country %>
                  <%= a.text_field :country, class: 'form-control'%>

                  <%= a.label :phone %>
                  <%= a.text_field :phone, class: 'form-control' %>
              <% end %>
            </section>

            <section class="uk-float-left uk-flex uk-flex-column address">
              <h2><%= :billing_address.to_s.humanize %></h2>
              <%= r.fields_for :shipping_address do |a| %>
                  <%= a.label :name %>
                  <%= a.text_field :name, class: 'form-control'%>

                  <%= a.label :street %>
                  <%= a.text_field :street, class: 'form-control'%>

                  <%= a.label :city %>
                  <%= a.text_field :city, class: 'form-control'%>

                  <%= a.label :ZIP %>
                  <%= a.text_field :ZIP, class: 'form-control' %>

                  <%= a.label :state %>
                  <%= a.text_field :state, class: 'form-control'%>

                  <%= a.label :country %>
                  <%= a.text_field :country, class: 'form-control'%>

                  <%= a.label :phone %>
                  <%= a.text_field :phone, class: 'form-control'%>
              <% end %>
            </section>
          </section>
      <% end %>
      <div class="uk-margin uk-flex uk-flex-right submit-container">
        <%= u.submit :class => 'uk-button uk-button-large submit-button' %>
      </div>
<% end %>
